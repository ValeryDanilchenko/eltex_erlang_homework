В даннйой домашней работе было проведено знакомство с работой функций в Erlang.

Одна и та же функция была реализованна с помощью разных средств языка Erlang.

Функция to_rub - обрабатывает входные значения при помощи нескольких тел функции и использует pattern matching при обработке параметров каждого из тел. Результат выполнения функции содержится в том теле, обрабатываемые параметры которого, совпадут с переданными параметрами.

Функция to_rub2 содержит одно тело функции и обрабатывает входные параметры через pattern mathing используя условия "case", результат выполнения "case" записывается в переменную "Result". Переменная "Result" стоит в конце функции и является ее возвращаемым значением.

Функция to_rub3 аналогично to_rub2 состоит из одного тела и использует "case" для сопоставления с образцом, однако результат выполенения "case" никуда не записывается, а сразу выводится как результат выполнения функции.


*************************************************************************************************************************************************************************
1> c(converter).
{ok,converter}

2> converter:to_rub({usd, 100}).
Convert usd to rub, amount 100
{ok,7550.0}

3> converter:to_rub({peso, 12}).
Convert peso to rub, amount 12
{ok,36}

4> converter:to_rub({yene, 30}).
Error, invalid arg {yene,30}
{error,badarg}

5> converter:to_rub({euro, -15}).
Error, invalid arg {euro,-15}
{error,badarg}
*************************************************************************************************************************************************************************


В строке 1 происходит компиляция, в строках 2 и 3 успешно конвертировали валюты usd и peso в рубли, в строке 4 возникает ошибка, т.к. такая валюта(yene) не поддерживается, а в строке 5 возникает ошибка, т.к. -15 меньше нуля.



*************************************************************************************************************************************************************************

6> converter:to_rub2({usd, 100}).
Convert usd to rub, amount 100
{ok,7550.0}

7> converter:to_rub2({peso, 12}).
Convert peso to rub, amount 12
{ok,36}

8> converter:to_rub2({yene, 30}).
Error, invalid arg {yene,30}
{error,badarg}

9> converter:to_rub2({euro, -15}).
Error, invalid arg {euro,-15}
{error,badarg}

*************************************************************************************************************************************************************************

В строках 6 и 7 успешно конвертировали валюты usd и peso в рубли, в строке 8 возникает ошибка, т.к. такая валюта(yene) не поддерживается, а в строке 9 возникает ошибка, т.к. -15 меньше нуля.

*************************************************************************************************************************************************************************


10> converter:to_rub3({usd, 100}).
Convert usd to rub, amount 100
{ok,7550.0}

11> converter:to_rub3({peso, 12}). 
Convert peso to rub, amount 12
{ok,36}

12> converter:to_rub3({yene, 30}).
Error, invalid arg {yene,30}
{error,badarg}

13> converter:to_rub3({euro, -15}).
Error, invalid arg {euro,-15}
{error,badarg}
*************************************************************************************************************************************************************************

В строках 10 и 11 успешно конвертировали валюты usd и peso в рубли, в строке 12 возникает ошибка, т.к. такая валюта(yene) не поддерживается, а в строке 13 возникает ошибка, т.к. -15 меньше нуля.